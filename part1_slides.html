<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Making the web svelter with SvelteKit - Part 1</title>

		<link rel="stylesheet" href="dist/reset.css">
		<link rel="stylesheet" href="dist/reveal.css">
		<link rel="stylesheet" href="dist/theme/white.css">

		<!-- Theme used for syntax highlighted code -->
		<link rel="stylesheet" href="plugin/highlight/monokai.css">

		<style>
			img {
				max-height: 700px !important;
			}

			.reveal pre code {
				max-height: 700px;
			}
		</style>
	</head>
	<body>
		<div class="reveal" style="width: 100%;">
			<div class="slides">
				<section data-markdown data-background-image="images/reveal_background.jpg" data-background-size="contain">
					<textarea data-template>
						# Making the web Svelter with SvelteKit

						### Part 1 - The index-page

						[Back to part 0](part0_slides.html)
						---
						## The Index-page

						- The index page resides within /src/routes/+page.svelte
							- This is a "page component", and consists of the markup, logic and styles needed for the component
						- Structured in a familiar way that feels conspicuously like a normal HTML5 website

						```svelte []
						<script>
							const name = "Joachim";
						</script>

						<h1>Hello {name}!</h1>

						<style>
							h1 {
								color: pink;
								font-size: 15px;
							}
						</style>
						```
						---
						## Placing an image on the page

						```svelte []
						<script>

						</script>

						<div id="cf2">
							<div class="photo transparent" style="background-image: url('/images/background1.jpg')"/>
						</div>

						<style>

						</style>
						```
						---
						## Adding some styling

						```css []
						 <style>
							 #cf2 {
								 position: relative;
								 width: 100vw;
								 height: 80vh;
								 overflow: hidden;
							 }

							 #cf2 div.transparent {
								 /* opacity: 0; */
							 }

							 #cf2 div.photo {
								 position: absolute;
								 top: 0;
								 width: 100vw;
								 height: 80vh;
								 object-fit: cover;
								 transition: opacity 1s ease-in-out, transform 10s;
								 background-size: cover;
								 background-position: center;
							 }

							 :global(#cf2 div.zoom) {
								 transform: scale(1.2);
							 }
						 </style>
						```
						---
						## Adding more images

						```html []
						<div id="cf2">
							 <div class="photo transparent" style="background-image: url('/images/background1.jpg')" />
							 <div class="photo transparent" style="background-image: url('/images/IMGP4117.jpg')" />
							 <div class="photo transparent" style="background-image: url('/images/IMGP4642.jpg')" />
							 <div class="photo transparent" style="background-image: url('/images/IMGP6801.jpg')" />
						 </div>
						```
						---
						## Running code when code loads in the browser

						```svelte []
						<script>
     						import {onMount} from "svelte";

     						let photoLength = 0;
							onMount(() => {
								photoLength = document.querySelector("#cf2").children.length;
								setFirstPhoto();
							});

							function setFirstPhoto() {

							}
						</script>

						<style>
							#cf2 div.transparent {
								 opacity: 0;
							 }
						</style>
						```
						---
						## Adding zoom and transition CSS effects

						```svelte []
						    let intervalId = null;
							let intervalMs = 10000;
							let photoLength = 0;

							let intervalId = null;
							let intervalMs = 10000;
							let photoLength = 0;
							let currentPhoto = 0;

						    function changePhoto() {
								console.log("change photo: " + photoLength);
								let nextPhoto = currentPhoto >= photoLength - 1 ? 0 : currentPhoto + 1;
								console.log("currentPhoto: " + currentPhoto + " nextPhoto:" + nextPhoto);

								if (document.getElementById("cf2")) {
									document.getElementById("cf2").children[currentPhoto].classList.add("transparent");
									document.getElementById("cf2").children[currentPhoto].classList.remove("zoom");
									document.getElementById("cf2").children[nextPhoto].classList.remove("transparent");
									document.getElementById("cf2").children[nextPhoto].classList.add("zoom");
								}

								currentPhoto = nextPhoto;
							}

							function setFirstPhoto() {
								if (document.getElementById("cf2") && document.getElementById("cf2").children.length > 0) {
									document.getElementById("cf2").children[0].classList.remove("transparent");
									setTimeout(function () {
										console.log('ADDING ZOOM: ' + document.getElementById("cf2").children[0].classList);
										document.getElementById("cf2").children[0].classList.add("zoom");
										console.log(document.getElementById("cf2").children[0].classList);
									}, 1000);
								}

								if (intervalId) {
									clearInterval(intervalId);
								}

								intervalId = setInterval(changePhoto, intervalMs);
							}
						```
						---
						## Onwards

						[part 2](part2_slides.html)
					</textarea>
				</section>

			</div>
		</div>

		<script src="dist/reveal.js"></script>
		<script src="plugin/notes/notes.js"></script>
		<script src="plugin/markdown/markdown.js"></script>
		<script src="plugin/highlight/highlight.js"></script>
		<script>
			// More info about initialization & config:
			// - https://revealjs.com/initialization/
			// - https://revealjs.com/config/
			Reveal.initialize({
				hash: true,
				width: 1600,
				slideNumber: true,

				// Learn about plugins: https://revealjs.com/plugins/
				plugins: [ RevealMarkdown, RevealHighlight, RevealNotes ]
			});
		</script>
	</body>
</html>
